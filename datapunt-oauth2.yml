authz_admin_service:
  api_key: ${AUTHZ_ADMIN_API_KEY}
  access_secret: ${JWT_ACCESS_SECRET}
  bind_port: 8120
  datasets:
    CA:
      name: Datacatalogus Amsterdam
      described_by: 'https://data.amsterdam.nl/#?dsd=catalogus&dsp=1&dsv=CARDS&mpb=topografie'
      scopes:
        L1:
          name: Level 1
          included_by: L2
          description: >-
            TODO: beschrijven wat L1 meer heeft dan anoniem.
        L2:
          name: Level 2
          includes: L1
          description: >-
            TODO: beschrijven wat L2 meer heeft dan L1.
    HR:
      name: Handelsregister
      described_by: 'https://www.amsterdam.nl/stelselpedia/hr-index/'
      scopes:
        INF:
          name: Onbeperkt aantal bevragingen
          description: >-
            Deze permissie geeft gebruikers het recht onbeperkt informatie op te
            vragen (anonieme gebruikers mogen maximaal X [TODO --PvB] bevragingen
            per dag doen).
    AUR:
      name: Rollen van ADW accounts
      described_by: 'https://dokuwiki.datapunt.amsterdam.nl/'
      scopes:
        r:
          name: Rollen van gebruikers bevragen
          description: >-
            Geeft het recht om de rollen in te zien behorende bij een
            ADW account.
        w:
          name: Rollen van gebruikers wijzigen
          description: >-
            Geeft het recht om rollen aan een ADW account toe te voegen en
            rollen van een ADW account te verwijderen.
  profiles:
    AZB:
      name: Autorizatiebeheer
      description:
        Het toekennen van rollen aan ADW accounts, om de eigenaars van deze
        accounts toegang te geven tot voor hen relevante data.
      scopes:
        - AUR/r
        - AUR/w
    GA_020:
      name: Gemeenteambtenaar
      description: >-
        Gewone beheertaken.

        .. todo:: vervangen door nauwkeuriger profiel
      scopes:
        - CA/L1
        - CA/L2
    SA_020:
      name: Superambtenaar
      description: >-
        Handhaving en opsporing

        .. todo:: vervangen door nauwkeuriger profiel
      scopes:
        - CA/L1
        - CA/L2
  roles:
    EMPLOYEE:
      name: Medewerker gemeente Amsterdam
      description: >-
        Deze rol is tijdelijk.

        .. todo:: vervangen door nauwkeuriger rolverdeling
      profiles:
        - GA_020
    EMPLOYEE_PLUS:
      name: Medewerker Plus bij gemeente Amsterdam
      description: >-
        Deze rol is tijdelijk.

        .. todo:: vervangen door nauwkeuriger rolverdeling
      profiles:
        - SA_020
    DPB:
      name: Beheerder bij Datapunt
      description: >-
        Deze beheerders voeren onder andere het accountbeheer uit.
      profiles:
        - AZB


postgres:
  host: ${DB_HOST:-localhost}
  port: ${DB_PORT:-5432}
  user: ${DB_USER:-oauth2}
  password: ${DB_PASS:-oauth2}
  dbname: ${DB_DATABASE:-oauth2}

logging:
  version: 1
  formatters:
    default:
      format: '%(asctime)s oauth2 %(levelname)-8s %(module)s:%(lineno)d: %(message)s'
  handlers:
    console:
      class: logging.StreamHandler
      formatter: default
    aiohttp.access:
      class: logging.StreamHandler
  loggers:
    oauth2:
      level: ${LOGLEVEL:-DEBUG}
      handlers: [console]
      propagate: false
    aiohttp.access:
      level: ${LOGLEVEL:-DEBUG}
      handlers: [aiohttp.access]
      propagate: false
    aiohttp:
      propagate: true
#    aiohttp.*:
#      propagate: true
    rest_utils:
      propagate: true
  root:
    level: ${LOGLEVEL:-WARNING}
    handlers: [console]
