authorization_service:
  root_path: /oauth2
  bind_host: localhost
  bind_port: 8110
  idp_config:
    oauth2.idp.tma_oauth2:
      client_id: ${TMA_OAUTH2_CLIENT_ID}
      authorization_uri: ${TMA_OAUTH2_AUTHZ_URI}

client_admin_service:
  root_path: /oauth2clients
  bind_host: localhost
  bind_port: 8111

authz_admin_service:
  root_path: /oauth2scopes
  bind_host: localhost
  bind_port: 8112

jwt:
  refreshtokens:
    secret: refresh_testsecret
    algorithm: HS256
    lifetime: ${JWT_LIFETIME:-43200}  # 12 Ã— 3600
  accesstokens:
    secret: access_testsecret
    algorithm: HS256
    lifetime: 300

postgres:
  host: ${DB_HOST:-localhost}
  port: ${DB_PORT:-5432}
  user: ${DB_USER:-oauth2}
  password: ${DB_PASS:-oauth2}
  dbname: ${DB_DATABASE:-oauth2}

logging:
  version: 1
  formatters:
    root:
      format: "%(asctime)s	%(name)s %(levelname)s (%(pathname)s/%(filename)s:%(funcName)s@%(lineno)d): %(message)s"
    auditlog:
      format: "%(asctime)s	%(name)s %(levelname)s (pid: %(process)d | ts: %(created)f) %(message)s"
    werkzeug:
      format: "%(asctime)s	%(name)s %(levelname)s: %(message)s"
  handlers:
    root:
      class : logging.StreamHandler
      formatter: root
    auditlog:
      class : logging.StreamHandler
      formatter: auditlog
    werkzeug:
      class : logging.StreamHandler
      formatter: werkzeug
  loggers:
    auditlog.authserver:
      level: DEBUG
      propagate: false
      handlers: [auditlog]
    werkzeug:
      propagate: false
      handlers: [werkzeug]
  root:
    level: ${LOGLEVEL:-DEBUG}
    handlers: [root]

datasets:
  CA:
    name: Datacatalogus Amsterdam
    url: 'https://data.amsterdam.nl/#?dsd=catalogus&dsp=1&dsv=CARDS&mpb=topografie'
    scopes:
      L1:
        summary: Level 1
        included_by: L2
        description: |-
          TODO: beschrijven wat L1 meer heeft dan anoniem.
      L2:
        summary: Level 2
        includes: L1
        description: |-
          TODO: beschrijven wat L2 meer heeft dan L1.
  HR:
    name: Handelsregister
    url: 'https://www.amsterdam.nl/stelselpedia/hr-index/'
    scopes:
      INF:
        summary: Onbeperkt aantal bevragingen
        description: |-
          Deze permissie geeft gebruikers het recht onbeperkt informatie op te
          vragen (anonieme gebruikers mogen maximaal X [TODO --PvB] bevragingen
          per dag doen).
  BAG:
    name: Basisregister Adressen en Gebouwen
    url: 'https://www.amsterdam.nl/stelselpedia/bag-index/'

profiles:
  DigiD
